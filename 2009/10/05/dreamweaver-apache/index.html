<!doctype html><html><head><meta charset=utf-8><title>DreamweaverとApacheを連携して、テスト環境の構築</title><meta name=viewport content="width=device-width"><meta name=description content=""><!-- Twitter --><meta name=twitter:card content=summary><meta name=twitter:author content=@howtohp><meta name=twitter:title content=DreamweaverとApacheを連携して、テスト環境の構築><meta name=twitter:description content=""><!-- Facebook --><meta property=og:type content=article><meta property=og:title content=DreamweaverとApacheを連携して、テスト環境の構築><meta property=og:description content=""><meta property=og:url content="http:howtohp.com/2009/10/05/dreamweaver-apache/"><meta property=og:locale content=ja-JP><meta property=article:published_time content="2009-10-05 00:00:00 +0900"><link rel=canonical href="http:howtohp.com/2009/10/05/dreamweaver-apache/"><link rel=alternate type=application/atom+xml href=/feed.xml><link rel=icon href=/assets/img/icons/favicon.ico type=image/x-icon><link rel=prev href="/2009/11/09/w3c-cheatsheet/"><link rel=next href="/2009/10/04/windows-apache/"><link rel=stylesheet href=/assets/css/main.1d3b.css></head><body itemscope itemtype=http://schema.org/Blog lang=ja><header class="header container" role=banner><div class=header__title><h1><a href="/">howtohp</a></h1></div><nav class=global-nav role=navigation><ul class=global-nav__list><li class=global-nav__item><a class=global-nav__link href="/">HOME</a></li><li class=global-nav__item><a class=global-nav__link href=/archive>Archive</a></li><li class=global-nav__item><a class=global-nav__link href=/about>About</a></li></ul></nav></header><div class="main container--small" role=main><article class="entry h-entry" itemscope itemtype=http://schema.org/BlogPosting><header class=entry__header><h1 class=entry__title itemprop=name>DreamweaverとApacheを連携して、テスト環境の構築</h1><div class=entry__meta><time class=entry__published itemprop=datePublished datetime=""><span class=icon-calendar></span> 5 Oct, 2009</time><div class=entry__tags><span class=icon-tags></span><ul class=entry__tags__list><li class=entry__tags__item itemprop=keywords>Apache</li><li class=entry__tags__item itemprop=keywords>Dreamweaver</li></ul></div></div><!-- / .entry__meta --></header><div class=entry__content itemprop=articleBody><p>サイトの構築をしていると、テスト環境がやっぱりあった方が楽ですよね。<br>用意された物があればそれを使えばいいんですが、なければ自分で作るしかありません。<br>でも、できれば、出来るだけ本番環境に近い環境でないとテスト環境としてあまり意味がないので、Apacheでバーチャルホストの機能を利用して、サイト毎にちゃんとドキュメントルートを分ける方法を紹介したいと思います。</p><section id=index><h1 id=section>手順</h1><ol><li><a href=#section-1>Apacheのインストール</a></li><li><a href=#section-2>Dreamweaverのサイトの定義でテストサーバーの設定</a></li><li><a href=#section-3>Apacheの設定</a></li><li><a href=#section-4>Windosのhostファイルの編集</a></li><li><a href=#section-5>Dreamweaverと同期をとって確認</a></li></ol></section><section id=section-1><h1 id=apache>1.Apacheのインストール</h1><p><a href=http://httpd.apache.org/download.cgi>Download - The Apache <span class=caps>HTTP</span> Server Project</a>←のサイトからWindowsの方は、Win32&nbsp;Binaryのリンクからダウンロードして、インストールは、基本的にはNextを押していくだけで、<span class=caps>OK</span>です。メールアドレスの入力欄があるところだけ、自分のメールアドレスを入れていけばおｋでしょう。</p><p>詳しいインストール方法は<a href=http://howtohp.com/tools/windows-apache.html>WindowsにApacheをインストール</a>のエントリーを参考にしてください。</p></section><section id=section-2><h1 id=dreamweaver>2.Dreamweaverのサイトの定義でテストサーバーの設定</h1><p><img src=/assets/img/posts/dreamweaver-apache/site-definition.0d16.gif alt=サイトの定義></p><p>ここで、テストサーバーの設定で、サーバーモデルを<span class=caps>PHP</span> My<span class=caps>SQL</span>、アクセスをローカル/ネットワークテストサーバーフォルダを、<strong>C:\Program Files\Apache Software Foundation\Apache<span class=caps>2.2</span>\htdocs</strong>の中に、サイト用のフォルダ(半角英数ならなんでもいい)を作成し、作成したフォルダを指定。<br><span class=caps>URL</span>接頭辞には、自分がテストに使用したい<span class=caps>URL</span>を入力(インターネット上に存在しない<span class=caps>URL</span>)。</p></section><section id=section-3><h1 id=apache-1>3.Apacheの設定</h1><p><code>C:\Program Files\Apache Software Foundation\Apache2.2\conf</code>の中のhttpd.confをテキストエディタで開きます。</p><div class=highlight><pre><code class=apacheconf><span class=c># Virtual hosts</span>
<span class=c>#Include conf/extra/httpd-vhosts.conf</span></code></pre></div><p>上記のvhostsで検索して、二行目の#コメントをはずします。</p><div class=highlight><pre><code class=apacheconf><span class=c># Virtual hosts</span>
<span class=nb>Include</span> conf/extra/httpd-vhosts.conf</code></pre></div><p>これで、バーチャルホストの設定が別ファイルとしてインクルードされます。</p><p>インクルードしたvhosts.confがC:\Program Files\Apache Software&nbsp;Foundation\Apache<span class=caps>2.2</span>\conf\extraの中にありますので、それをテキストエディタで開きます。</p><p>その中の、下記の部分の設定を変更します。</p><div class=highlight><pre><code class=apacheconf><span class=nt>&lt;VirtualHost</span> <span class=s>*:80</span><span class=nt>&gt;</span>
<span class=nb>ServerAdmin</span> webmaster@dummy-host.Windows.home
<span class=nb>DocumentRoot</span> <span class=s2>&quot;C:/Program Files/Apache Software Foundation/Apache2.2/docs/dummy-host.Windows.home&quot;</span>
<span class=nb>ServerName</span> dummy-host.Windows.home
<span class=nb>ServerAlias</span> www.dummy-host.Windows.home
<span class=nb>ErrorLog</span> <span class=s2>&quot;logs/dummy-host.Windows.home-error.log&quot;</span>
<span class=nb>CustomLog</span> <span class=s2>&quot;logs/dummy-host.Windows.home-access.log&quot;</span> common
<span class=nt>&lt;/VirtualHost&gt;</span></code></pre></div><p>ServerAdminは、サーバー管理者のメールアドレスに変更。<br>DocumentRootは、先ほど、htdocsに作成したサイト用のフォルダのパスに変更。<br>ServerNameは、Dreamweaverで設定した、<span class=caps>URL</span>接頭辞に変更。<br>ServerAliasはとりあえず今回は使いませんので、削除。<br>ErrorLogは、エラーログ用のファイルの保存先に変更を入力。存在しなければ自動的に作成します。<br>CustomLogには、アクセスログ用のファイルの保存先に変更。存在しなければ自動的に作成します。</p><p>自分の場合、以下のようになります。</p><div class=highlight><pre><code class=apacheconf><span class=nt>&lt;VirtualHost</span> <span class=s>*:80</span><span class=nt>&gt;</span>
<span class=nb>ServerAdmin</span> <span class=k>info</span>@howtohp.com
<span class=nb>DocumentRoot</span> <span class=s2>&quot;C:\Program Files\Apache Software Foundation\Apache2.2\htdocs\howtohp.com&quot;</span>
<span class=nb>ServerName</span> local.howtohp.com
<span class=nb>ErrorLog</span> <span class=s2>&quot;logs/howtohp.error.log&quot;</span>
<span class=nb>CustomLog</span> <span class=s2>&quot;logs/howtohp.access.log&quot;</span> common
<span class=nt>&lt;/VirtualHost&gt;</span></code></pre></div><p>これで、Apacheの設定は完了ですので、Apacheを再起動します。リスタートは、すべてのプログラム→Apache <span class=caps>HTTP</span> Server <span class=caps>2.2</span>→Control Apache Server→Restartで再起動します。<br>この時に、コマンドラインの画面が一瞬だけ表示され、そのまま消えれば成功です。<br>消えずに、エラーメッセージが出れば、設定ファイルに何かエラーがありますので、エラーメッセージを参考に修正しましょう。</p></section><section id=section-4><h1 id=windoshost>4.Windosのhostファイルの編集</h1><p>次に、、<strong>C:\Windows\System32\drivers\etc</strong>の中にある<strong>host</strong>という拡張子のないファイルを開き、下記のコードに1行先ほど<span class=caps>URL</span>接頭辞にした<span class=caps>URL</span>を追記します。</p><div class=highlight><pre><code class=apacheconf><span class=err>127</span>.<span class=err>0</span>.<span class=err>0</span>.<span class=err>1</span>       <span class=nb>localhost</span>
<span class=m>127.0.0.1</span>       local.howtohp.com</code></pre></div></section><section id=section-5><h1 id=dreamweaver-1>5.Dreamweaverと同期をとって確認</h1><p>最後に、Dreamweaverで、ローカルとテストサーバーを同期をとります。</p><p><img src=/assets/img/posts/dreamweaver-apache/dreamweaver-apache.f3f0.gif alt=DWで同期></p><p>これで、開きたいファイルをDreamweaver上で開いて、<kbd>F12</kbd>、もしくは、<span class=caps>URL</span>接頭辞に入力した<span class=caps>URL</span>を直接入力し、表示されれば、成功です。</p><p>慣れれば、5分もかからないので、覚えておいた方がいいかと。</p></section></div><div class=entry__comments><div id=disqus_thread></div><script type=text/javascript>var disqus_shortname = 'howtohp';
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=http://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></article><div class=pager><a href="/2009/11/09/w3c-cheatsheet/" class=pager__newer title="Previous Post: iPhoneなどにちょうどいいW3CのHTML,CSS,SVG,XPathのチートシート">&laquo; Newer</a> <a href="/2009/10/04/windows-apache/" class=pager__older title="Older Post: WindowsにApacheをインストール">Older &raquo;</a></div><hr><section class="related-posts entries"><h1>関連記事</h1><ul><li class=entries__item><a class=entries__link href="/2011/08/21/mac-apache-virtual-host/" rel=bookmark title=MacのApacheでヴァーチャルホストを使ってテスト環境の構築>MacのApacheでヴァーチャルホストを使ってテスト環境の構築</a> <time class=entries__published published="" itemprop=datePublished datetime="21 Aug 2011">21 Aug, 2011</time></li><li class=entries__item><a class=entries__link href="/2013/04/24/useful-command-line/" rel=bookmark title=Macユーザーなら覚えといた方がいいTerminalの便利なコマンド>Macユーザーなら覚えといた方がいいTerminalの便利なコマンド</a> <time class=entries__published published="" itemprop=datePublished datetime="24 Apr 2013">24 Apr, 2013</time></li><li class=entries__item><a class=entries__link href="/2009/10/04/windows-apache/" rel=bookmark title=WindowsにApacheをインストール>WindowsにApacheをインストール</a> <time class=entries__published published="" itemprop=datePublished datetime="04 Oct 2009">4 Oct, 2009</time></li><li class=entries__item><a class=entries__link href="/2012/01/29/html5-placeholder-style/" rel=bookmark title=HTML5のplaceholder属性で、表示される文字色を変更する方法>HTML5のplaceholder属性で、表示される文字色を変更する方法</a> <time class=entries__published published="" itemprop=datePublished datetime="29 Jan 2012">29 Jan, 2012</time></li><li class=entries__item><a class=entries__link href="/2011/08/16/homebrew-install/" rel=bookmark title=Macにパッケージ管理ソフトのhomebrewをインストール>Macにパッケージ管理ソフトのhomebrewをインストール</a> <time class=entries__published published="" itemprop=datePublished datetime="16 Aug 2011">16 Aug, 2011</time></li></ul></section></div><!-- / .main --><div class="footer-container container"><footer class=footer role=contentinfo><div class=social-rss><ul class=social-rss__list><li class=social-rss__item><a href=http://twitter.com/#!/howtohp id=twitter title=Twitter>Twitter</a></li><li class=social-rss__item><a href=http://www.facebook.com/howtohp id=facebook-page title="Facebook Page">Facebook Page</a></li><li class=social-rss__item><a href=/feed.xml id=feed title=Feed>feed</a></li></ul></div><p><small class=copy>&#9786;&nbsp;howtohp</small><br>Powered by <a href="http://jekyllrb.com/">Jekyll</a></p></footer></div><!-- / #footer-container --><script src=//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js></script><script src=/assets/js/scripts.c909.js></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-3185102-1', 'howtohp.com');
    ga('require', 'displayfeatures');
    ga('send', 'pageview');</script><script type=text/javascript>var disqus_shortname = 'howtohp';
            (function () {
                var s = document.createElement('script'); s.async = true;
                s.type = 'text/javascript';
                s.src = '//' + disqus_shortname + '.disqus.com/count.js';
                (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
            }());</script></body></html>