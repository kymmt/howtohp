<!DOCTYPE html><html><head><meta charset=utf-8><title>jQueryで画像置換</title><meta name=viewport content="width=device-width"><meta name=description content=""><!-- Twitter --><meta name=twitter:card content=summary><meta name=twitter:author content=@howtohp><meta name=twitter:title content=jQueryで画像置換><meta name=twitter:description content=""><!-- Facebook --><meta property=og:type content=article><meta property=og:title content=jQueryで画像置換><meta property=og:description content=""><meta property=og:url content="http:howtohp.com/javascript/2008/10/19/rollover/"><meta property=og:locale content=ja-JP><meta property=article:published_time content="2008-10-19 00:00:00 +0900"><!-- build:css({app,.tmp}) /css/main.css --><!-- Syntax highlighting CSS --><link rel=stylesheet href=/css/syntax.css><!-- Custom CSS --><link rel=stylesheet href=/css/style.css><!-- endbuild --><!-- build:css({app,.tmp}) /css/main.css --><!-- Syntax highlighting CSS --><link rel=stylesheet href=/css/syntax.css><!-- Custom CSS --><link rel=stylesheet href=/css/style.css><!-- endbuild --></head><body><header class="header container" role=banner><div class=header__title><h1><a href="/">howtohp</a></h1></div><nav class=global-nav role=navigation><ul class=global-nav__list><li class=global-nav__item><a class=global-nav__link href="/">HOME</a></li><li class=global-nav__item><a class=global-nav__link href=/archive>Archive</a></li><li class=global-nav__item><a class=global-nav__link href=/about>About</a></li></ul></nav></header><div class="main container--small" role=main><article class="entry h-entry" itemscope itemtype=http://schema.org/BlogPosting><header class=entry__header><h1 class=entry__title itemprop=name>jQueryで画像置換</h1><div class=entry__meta><time class=entry__published itemprop=datePublished datetime="19 Oct 2008"><span class=icon-calendar></span> 19 Oct, 2008</time><div class=entry__tags><span class=icon-tags></span><ul class=entry__tags__list><li class=entry__tags__item itemprop=keywords>JQuery</li></ul></div></div><!-- / .entry__meta --></header><div class=entry__content itemprop=articleBody><p>まず、仕様としては、画像のファイル名の最後に、「_off」とついているものにマウスオーバーすると、画像のファイル名の「_off」の部分を「_on」に切り替えて、画像を入れ替えると言うものです。</p><p><!--more--></p><p>もう少し細かく解説すると、imgタグもしくはinputタグのsrc属性の値を入れ替え、マウスアウトで「_on」の部分を「_off」に戻します。<br>ですが、このままですと、現在のページなんかでもともと「_on」の状態にしておきたいときも、マウスを乗せてからはずすと「_off」に切り替わってしまいます。</p><p>なので、元々「_on」のものには「current」というクラスを付け、currentというクラスが付いているものには切り替えの処理をしないようにします。</p><p>以下がソースです。</p><pre data-language=javascript><code>$(function(){
    $("img[src*='_on']").addClass("current");
 
    $("img,input[type='image']").hover(function(){
        if ($(this).attr("src")){
            $(this).attr("src",$(this).attr("src").replace("_off.", "_on."));
        }
    },function(){
        if ($(this).attr("src") && !$(this).hasClass("current") ){
            $(this).attr("src",$(this).attr("src").replace("_on.", "_off."));
        }
    });
});
</code></pre></div></article><div class=pager><a href=# class=pager__prev>&lt;&lt; Prev</a> <a href=# class=pager__next>Next &gt;&gt;</a></div><hr><section class=related-posts><h1>関連記事</h1><ul><li><a rel=bookmark href="/movabletype/2009/07/31/mt-current-category/">MTでカテゴリーナビの所属しているカテゴリのみ条件分岐する</a></li><li><a rel=bookmark href="/tools/2009/10/05/dreamweaver-apache/">DreamweaverとApacheを連携して、テスト環境の構築</a></li><li><a rel=bookmark href="/other/2009/12/05/server_transfer/">ロリポップからさくらサーバーに乗り換えました。</a></li><li><a rel=bookmark href="/css/tools/2009/03/08/dw_codehint/">Dreamweaverのコードヒントでwidowsプロパティ等を出ないようにする。</a></li><li><a rel=bookmark href="/tools/2008/12/21/vista-ubuntu/">VistaにデュアルブートでUbuntuを簡単インストール</a></li></ul></section></div><!-- / .main --><div class="footer-container container"><footer class=footer role=contentinfo><div class=social-rss><ul class=social-rss__list><li class=social-rss__item><a href=http://twitter.com/#!/howtohp id=twitter title=Twitter>Twitter</a></li><li class=social-rss__item><a href=http://www.facebook.com/howtohp id=facebook-page title="Facebook Page">Facebook Page</a></li><li class=social-rss__item><a href=http://feeds.feedburner.com/howtohp/ZiSA id=feed title=Feed>feed</a></li></ul></div><p><small class=copy>&#9786;&nbsp;howtohp</small> Powered by <a href="http://jekyllrb.com/">Jekyll</a></p></footer></div><!-- / #footer-container --><!-- build:js({app,.tmp}) /js/scripts.js --><script src=/js/main.js></script><!-- endbuild --></body></html>