---
layout: post
title: jQueryで画像置換
categories:
- JavaScript
tags:
- JQuery
status: publish
type: post
published: true
meta:
  _edit_last: '2'
  _wp_old_slug: jquery%e3%81%a7%e7%94%bb%e5%83%8f%e7%bd%ae%e6%8f%9b
  dsq_thread_id: '548281970'
author:
  login: kohei
  email: contact@koheiyamamoto.me
  display_name: kymmt
  first_name: Kohei
  last_name: Yamamoto
---
<p>まず、仕様としては、画像のファイル名の最後に、「_off」とついているものにマウスオーバーすると、画像のファイル名の「_off」の部分を「_on」に切り替えて、画像を入れ替えると言うものです。</p>
<p><!--more--></p>
<p>もう少し細かく解説すると、imgタグもしくはinputタグのsrc属性の値を入れ替え、マウスアウトで「_on」の部分を「_off」に戻します。<br />
ですが、このままですと、現在のページなんかでもともと「_on」の状態にしておきたいときも、マウスを乗せてからはずすと「_off」に切り替わってしまいます。</p>
<p>なので、元々「_on」のものには「current」というクラスを付け、currentというクラスが付いているものには切り替えの処理をしないようにします。</p>
<p>以下がソースです。</p>
<pre data-language="javascript"><code>$(function(){
    $("img[src*='_on']").addClass("current");
 
    $("img,input[type='image']").hover(function(){
        if ($(this).attr("src")){
            $(this).attr("src",$(this).attr("src").replace("_off.", "_on."));
        }
    },function(){
        if ($(this).attr("src") && !$(this).hasClass("current") ){
            $(this).attr("src",$(this).attr("src").replace("_on.", "_off."));
        }
    });
});
</code></pre>
