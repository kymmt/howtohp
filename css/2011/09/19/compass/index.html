<!DOCTYPE html><html><head><meta charset=utf-8><title>CSS書くならCompass使った方がいいよ。SASS使ってる人なら特に。</title><meta name=viewport content="width=device-width"><meta name=description content=""><!-- Twitter --><meta name=twitter:card content=summary><meta name=twitter:author content=@howtohp><meta name=twitter:title content=CSS書くならCompass使った方がいいよ。SASS使ってる人なら特に。><meta name=twitter:description content=""><!-- Facebook --><meta property=og:type content=article><meta property=og:title content=CSS書くならCompass使った方がいいよ。SASS使ってる人なら特に。><meta property=og:description content=""><meta property=og:url content="http:howtohp.com/css/2011/09/19/compass/"><meta property=og:locale content=ja-JP><meta property=article:published_time content="2011-09-19 00:00:00 +0900"><link rel=stylesheet href=/css/main.50c7.css><link rel=stylesheet href=/css/main.50c7.css></head><body><header class="header container" role=banner><div class=header__title><h1><a href="/">howtohp</a></h1></div><nav class=global-nav role=navigation><ul class=global-nav__list><li class=global-nav__item><a class=global-nav__link href="/">HOME</a></li><li class=global-nav__item><a class=global-nav__link href=/archive>Archive</a></li><li class=global-nav__item><a class=global-nav__link href=/about>About</a></li></ul></nav></header><div class="main container--small" role=main><article class="entry h-entry" itemscope itemtype=http://schema.org/BlogPosting><header class=entry__header><h1 class=entry__title itemprop=name>CSS書くならCompass使った方がいいよ。SASS使ってる人なら特に。</h1><div class=entry__meta><time class=entry__published itemprop=datePublished datetime="19 Sep 2011"><span class=icon-calendar></span> 19 Sep, 2011</time><div class=entry__tags><span class=icon-tags></span><ul class=entry__tags__list><li class=entry__tags__item itemprop=keywords>Tool</li><li class=entry__tags__item itemprop=keywords>Compass</li><li class=entry__tags__item itemprop=keywords>CSS</li></ul></div></div><!-- / .entry__meta --></header><div class=entry__content itemprop=articleBody><p>以前書いた、 <a href="/website/2011/08/21/css-prefixr/"><span class=caps>CSS</span>のベンダープレフィックスをいい感じに追加してくれるPrefixrが便利そう。</a>&nbsp;で<span class=caps>SASS</span>にベンダープレフィックスを自動で追加してくれる機能あればいいのにって言ってたんですが、Compassにありました。クソ便利</p><p>正確に言うと、Compassには<span class=caps>SASS</span>のmixinとしてひと通り用意されてるってことです。</p><p><a href="http://compass-style.org/">Compass公式サイト</a></p><ol><li><a href=#compass-install>インストール</a></li><li><a href=#compass-init>初期設定</a></li><li><a href=#compass-import>Compassの機能をインポート</a></li><li><a href=#compass-generate><span class=caps>SASS</span>ファイルから<span class=caps>CSS</span>ファイルを生成</a></li><li><a href=#compass-usage>Compassを使って書いてみる</a></li></ol><section id=compass-install><h1 id=compass>1&nbsp;Compassをインストール</h1><p>Compassをインストールするには、<span class=caps>SASS</span>同様、Rubyがインストールされている必要があります。<br>Macの方は元々入ってるので、心配無用です。Linux使ってる人なら、自分で入れれるでしょう。<br>Windowsの方はお近くのAppleStoreで(ry。嘘です。</p><p><a href="http://pub.cozmixng.org/~the-rwiki/rw-cgi.rb?cmd=view;name=Ruby+Install+Guide">Ruby Install Guide</a>を参考にすればいいと思うよ。</p><p>ターミナルで下記のコマンドでインストール</p><div class=highlight><pre><code class=bash>gem update --system
gem install compass</code></pre></div><p>これでインストールは完了。</p></section><section id=compass-init><h1 id=section>2.初期設定</h1><p>インストールが完了したら、Compassのコマンドが使える様になってるはずなので、コマンドでサクっと初期設定します。<br>ターミナルで、<span class=caps>SASS</span>ファイルや、cssを置く予定の場所で、下記のコマンドを実行します。</p><p>※rbenvでrubyのバージョン管理してる人は、rbenv&nbsp;rehashコマンドでcompassコマンドが使える様になるはずです。</p><div class=highlight><pre><code class=bash>compass create</code></pre></div><p>実行するとこんな感じのファイルが生成されます。</p><div class=highlight><pre><code class=bash>├── config.rb
├── sass
│   ├── ie.scss
│   ├── print.scss
│   └── screen.scss
└── stylesheets
    ├── ie.css
    ├── print.css
└── screen.css</code></pre></div><p>自分の場合、<span class=caps>CSS</span>ファイルは”css”ってフォルダ名にしたいので、ちょろっと、オプションを付けます。<br>あと、画像用のフォルダと、JavaScript用のフォルダも設定しておきます。あとで、config.rbを編集すればいつでも変更はできます。</p><div class=highlight><pre><code class=bash>compass create --sass-dir <span class=s2>&quot;sass&quot;</span> --css-dir <span class=s2>&quot;css&quot;</span> --javascripts-dir <span class=s2>&quot;js&quot;</span> --images-dir <span class=s2>&quot;img&quot;</span></code></pre></div><p>既存のプロジェクトに導入するときなんかで、初期で作られる<span class=caps>CSS</span>ファイルはいらない場合は以下のようにすれば、おｋです。<br>config.rbとsassフォルダだけが作られます。</p><div class=highlight><pre><code class=bash>compass create --bare</code></pre></div><h2 id=sass><span class=caps>SASS</span>シンタックスを使いたい場合</h2><p>デフォルトでは<span class=caps>SCSS</span>のシンタックスなので、<span class=caps>SASS</span>シンタックスを使いたい場合もオプションで変更できます。<br><span class=caps>SCSS</span>の方が<span class=caps>CSS</span>っぽくて楽だと思いますけど。</p><div class=highlight><pre><code class=bash>compass create --syntax sass</code></pre></div><p>これで初期設定は完了。</p><p>他にも色々な設定があるので詳しくは公式の<a href="http://compass-style.org/help/tutorials/configuration-reference/">Configuration Reference</a>を参考にしてください。</p></section><section id=compass-import><h1 id=compass-1>3.Compassの機能をインポート</h1><p>Compassには様々なMixinやスタイルが用意されています。使い方は簡単で、<code>@import</code>でインポートするだけです。</p><div class=highlight><pre><code class=scss><span class=cm>/* CSS3のborder-radiusのみインポート */</span>
<span class=k>@import</span> <span class=s2>&quot;compass/css3/border-radius&quot;</span><span class=p>;</span>
<span class=cm>/* CSS3関連のMixinを丸っとインポート */</span>
<span class=k>@import</span> <span class=s2>&quot;compass/css3/&quot;</span><span class=p>;</span>
<span class=cm>/* クリアフィックス等のユーティリティ系Mixinをインポート */</span>
<span class=k>@import</span> <span class=s2>&quot;compass/utilities&quot;</span> 
<span class=cm>/* コンパスの機能を全部インポート 基本的にはこれだけでOKだと思います。　</span><span class=c>*/</span>
<span class=o>@</span><span class=n>import</span> <span class=s2>&quot;compass&quot;</span> 

<span class=cm>/* リセット用CSSをインポート </span><span class=c>*/</span>
<span class=o>@</span><span class=n>import</span> <span class=s2>&quot;compass/reset/&quot;</span><span class=p>;</span></code></pre></div><p>上記のresetに関してはMixinではなく、<span class=caps>CSS</span>そのものなので、インポートした場所に<a href="http://meyerweb.com/eric/tools/css/reset/">Eric Meyer’s reset <span class=caps>2.0</span></a>をベースにしたスタイルが書きこまれます。</p><p>※<code>@import "compass"</code>で全ての機能をインポートしてもリセット用スタイルは個別にインポートしないと書きこまれません</p></section><section id=compass-generate><h1 id=sasscss><span class=caps>4.SASS</span>ファイルから<span class=caps>CSS</span>ファイルを生成</h1><p><span class=caps>SCSS</span>ファイルから<span class=caps>CSS</span>を生成するには、<span class=caps>SASS</span>同様コマンドラインでコンパイル or&nbsp;ウォッチします。</p><h2 id=section-1>コマンド</h2><div class=highlight><pre><code class=bash>compass compile sass/style.scss 
compass watch sass/style.scss <span class=c>#変更を監視して、保存の度にコンパイル</span>
compass watch --output-style compressed sass/style.scss <span class=c>#一行に圧縮</span>
compass w <span class=c>#引数なしで指定したsassディレクトリの中身を全部監視</span></code></pre></div><p>たったこれだけです。<span class=caps>SASS</span>の場合、出力先の<span class=caps>CSS</span>ファイル名も指定しなきゃいけなかったけど、Compassは最初に設定しているので、必要ありません。</p><p>設定した<span class=caps>CSS</span>用フォルダに同じ名前(この場合style.css)の<span class=caps>CSS</span>ファイルが生成されます。</p></section><section id=compass-usage><h1 id=compass-2>5.Compassを使って書いてみる。</h1><h2 id=clearfix>Clearfix</h2><p>例えばクリアフィックスをする場合、下記の様に書きます。</p><h3 id=compass-scss>Compass&nbsp;(<span class=caps>SCSS</span>)</h3><div class=highlight><pre><code class=scss><span class=k>@import</span> <span class=s2>&quot;compass/utilities/general/clearfix&quot;</span><span class=p>;</span>
<span class=nc>.sample</span> <span class=p>{</span>
    <span class=k>@include</span><span class=nd> clearfix</span><span class=p>;</span>
<span class=p>}</span></code></pre></div><h3 id=css><span class=caps>CSS</span></h3><div class=highlight><pre><code class=css><span class=nc>.sample</span> <span class=p>{</span>
    <span class=k>overflow</span><span class=o>:</span> <span class=k>hidden</span><span class=p>;</span>
    <span class=o>*</span><span class=n>zoom</span><span class=o>:</span> <span class=m>1</span><span class=p>;</span>
<span class=p>}</span></code></pre></div><p>こんな感じで出来上がり。でも、これぐらいなら、あんまり便利さが実感できませんね。</p><h2 id=mixin>コンフィグレーション変数とMixinの組み合わせ</h2><p>Compassにはコンフィグレーション変数という機能があります。<br>プロパティに対して、デフォルトのバリューが用意されており、デフォルトのバリューを使う場合は、省略することができます。<br>もちろん、各自変数の中身を上書きすることができます。</p><h3 id=compass-scss-1>Compass&nbsp;(<span class=caps>SCSS</span>)</h3><div class=highlight><pre><code class=scss><span class=k>@import</span> <span class=s2>&quot;compass/css3/border-radius&quot;</span><span class=p>;</span>
<span class=cm>/* compassの初期設定 */</span>
<span class=c1>//$default-border-radius:5px;</span>
<span class=cm>/* 上書き */</span>
<span class=nv>$default-border-radius</span><span class=o>:</span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>

<span class=nc>.sample1</span> <span class=p>{</span>
    <span class=cm>/* デフォルトを使用してバリューを省略した場合 */</span>
    <span class=k>@include</span><span class=nd> border-radius</span><span class=p>;</span>
<span class=p>}</span>

<span class=nc>.sample2</span> <span class=p>{</span>
    <span class=cm>/* 通常の使い方 */</span>
    <span class=k>@include</span><span class=nd> border-radius</span><span class=p>(</span><span class=mi>2</span><span class=kt>px</span><span class=p>);</span>
<span class=p>}</span></code></pre></div><h3 id=css-1><span class=caps>CSS</span></h3><div class=highlight><pre><code class=css><span class=nc>.sample1</span> <span class=p>{</span>
   <span class=o>-</span><span class=n>moz</span><span class=o>-</span><span class=k>border</span><span class=o>-</span><span class=n>radius</span><span class=o>:</span> <span class=m>10px</span><span class=p>;</span>
   <span class=o>-</span><span class=n>webkit</span><span class=o>-</span><span class=k>border</span><span class=o>-</span><span class=n>radius</span><span class=o>:</span> <span class=m>10px</span><span class=p>;</span>
   <span class=o>-</span><span class=n>o</span><span class=o>-</span><span class=k>border</span><span class=o>-</span><span class=n>radius</span><span class=o>:</span> <span class=m>10px</span><span class=p>;</span>
   <span class=o>-</span><span class=n>ms</span><span class=o>-</span><span class=k>border</span><span class=o>-</span><span class=n>radius</span><span class=o>:</span> <span class=m>10px</span><span class=p>;</span>
   <span class=o>-</span><span class=n>khtml</span><span class=o>-</span><span class=k>border</span><span class=o>-</span><span class=n>radius</span><span class=o>:</span> <span class=m>10px</span><span class=p>;</span>
   <span class=k>border</span><span class=o>-</span><span class=n>radius</span><span class=o>:</span> <span class=m>10px</span><span class=p>;</span>
<span class=p>}</span>

<span class=nc>.sample2</span> <span class=p>{</span>
   <span class=o>-</span><span class=n>moz</span><span class=o>-</span><span class=k>border</span><span class=o>-</span><span class=n>radius</span><span class=o>:</span> <span class=m>2px</span><span class=p>;</span>
   <span class=o>-</span><span class=n>webkit</span><span class=o>-</span><span class=k>border</span><span class=o>-</span><span class=n>radius</span><span class=o>:</span> <span class=m>2px</span><span class=p>;</span>
   <span class=o>-</span><span class=n>o</span><span class=o>-</span><span class=k>border</span><span class=o>-</span><span class=n>radius</span><span class=o>:</span> <span class=m>2px</span><span class=p>;</span>
   <span class=o>-</span><span class=n>ms</span><span class=o>-</span><span class=k>border</span><span class=o>-</span><span class=n>radius</span><span class=o>:</span> <span class=m>2px</span><span class=p>;</span>
   <span class=o>-</span><span class=n>khtml</span><span class=o>-</span><span class=k>border</span><span class=o>-</span><span class=n>radius</span><span class=o>:</span> <span class=m>2px</span><span class=p>;</span> <span class=c>/* 最新バージョンでは出ません。 */</span>
   <span class=k>border</span><span class=o>-</span><span class=n>radius</span><span class=o>:</span> <span class=m>2px</span><span class=p>;</span>
<span class=p>}</span></code></pre></div></section><p>もっと色々サンプル書いてみようと思ったんですが、長くなってきたんで、この辺にしておきます。</p><p>どうでしょう、もうインストールせざるを得ませんよね？Compassにはまだまだ他にも一杯機能があるので、またおいおい紹介したいと思います。<br><a href="http://www.blueprintcss.org/">Blueprint</a>、<a href="http://960.gs/">960</a>、<a href="http://susy.oddbird.net/">Susy</a>なんかのフレームワークも簡単に使えるようなので、今後試してみたいと思います。</p></div></article><div class=pager><a href=# class=pager__prev>&lt;&lt; Prev</a> <a href=# class=pager__next>Next &gt;&gt;</a></div><hr><section class=related-posts><h1>関連記事</h1><ul><li><a rel=bookmark href="/css/2012/07/20/sass-responsive-web-design/">Sassを使ってレスポンシブウェブデザインにする時に覚えておいた方がいいこと4つ</a></li><li><a rel=bookmark href="/2013/12/27/sass-bem/">SASSを使ってBEMで記述</a></li><li><a rel=bookmark href="/css/2011/05/06/css3-text-shadow/">今更ながら、text-shadowを色々試してみる。</a></li><li><a rel=bookmark href="/tools/2013/04/24/useful-command-line/">Macユーザーなら覚えといた方がいいTerminalの便利なコマンド</a></li><li><a rel=bookmark href="/2014/04/15/wordpress-to-jekyll/">ブログをWordpressからJykellに、サーバーをさくらからgithubへ</a></li></ul></section></div><!-- / .main --><div class="footer-container container"><footer class=footer role=contentinfo><div class=social-rss><ul class=social-rss__list><li class=social-rss__item><a href=http://twitter.com/#!/howtohp id=twitter title=Twitter>Twitter</a></li><li class=social-rss__item><a href=http://www.facebook.com/howtohp id=facebook-page title="Facebook Page">Facebook Page</a></li><li class=social-rss__item><a href=http://feeds.feedburner.com/howtohp/ZiSA id=feed title=Feed>feed</a></li></ul></div><p><small class=copy>&#9786;&nbsp;howtohp</small> Powered by <a href="http://jekyllrb.com/">Jekyll</a></p></footer></div><!-- / #footer-container --><script src=/js/scripts.d5d1.js></script></body></html>